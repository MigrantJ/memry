<header>
    <h1 id="app-title">memry</h1>

    <!-- insert magnifying glass button here, on by default -->
    <div id="input_form">
        <form ng-controller="DefinitionFormController" ng-submit="addDefinition()">
            <input
                name="title"
                placeholder="Search or Add New"
                class="main_input"
                id="input-title"
                ng-model="title"
                ng-focus="titleInputBegin()"
                ng-change="titleChange()"
                ng-blur="titleInputEnd()"
                type="text"
                />
            <textarea
                name="description"
                placeholder="Describe {{title}} here..."
                class="main_input"
                id="input-description"
                rows="4"
                cols="40"
                maxlength="255"
                required
                ng-model="description"
                ng-hide="hideDescription"
                ></textarea>
            <input
                type="submit"
                id="submit"
                value="Add"
                ng-show="title && description"
                />
        </form>
    </div>
</header>

<section id="definition-list" ng-controller="DefinitionListController">
    <article class="list-animate" id="definition-container" ng-repeat="def in definitions">
        <div
            class='definition'
            ng-class='{definition_hover: hover}'
            ng-mouseenter="hover = true"
            ng-mouseleave="hover = false"
            ng-hide="definitions[$index].editMode"
            id={{def._id}}>
            <span class="title">{{def.title}}</span>
            <div compile="def.descriptionURL"></div>
            <a class="hover_only" href="" ng-click="turnOnEditMode($index)">Edit</a>
            <a class="hover_only" href="" ng-click="delDefinition(def._id)">Remove</a>
        </div>

        <div
            class='definition_edit'
            ng-show="definitions[$index].editMode">
            <input
                name="title"
                id="input-title"
                ng-model="def.title"
                type="text"
                />
            <textarea
                name="description"
                id="input-description"
                rows="4"
                cols="40"
                maxlength="255"
                required
                ng-model="def.description"
                ></textarea>
            <a href="" ng-click="turnOffEditMode($index)">Cancel</a>
            <a href="" ng-click="editDefinition($index, def)">Submit</a>
        </div>
    </article>
</section>