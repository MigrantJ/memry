<header id="mm-top-bar">
    <strong id="memry-brand">memry</strong>
    <mm-search title="title"></mm-search>
    <input-description title="title"></input-description>
    <input-submit></input-submit>
</header>

<section id="def-list-container" ng-controller="DefinitionListController">
    <def-panel ng-repeat="def in definitions" def="def"></def-panel>
</section>

<header id="left-bar">
    <!-- insert magnifying glass button here, on by default -->
    <div id="input_form">
        <form ng-controller="DefinitionFormController" ng-submit="addDefinition()">
            <textarea
                name="description"
                placeholder="Describe '{{title}}' here..."
                class="def-form-element"
                id="def-form-description"
                rows="{{getDescRows()}}"
                cols="40"
                maxlength="1024"
                required
                ng-model="description"
                ng-hide="hideDescription"
                ></textarea>
            <input
                type="submit"
                id="submit"
                value="Add"
                ng-show="title && description"
                />
        </form>
    </div>
</header>

<section id="definition-list" ng-controller="DefinitionListController">
    <article class="list-animate" id="definition-container" ng-repeat="def in definitions">
        <div
            class='definition'
            ng-class='{definition_hover: hover}'
            ng-mouseenter="hover = true"
            ng-mouseleave="hover = false"
            ng-hide="definitions[$index].editMode"
            >
            <span class="def-list-title">{{def.title}}</span>
            <div class="definition_options">
                <a class="hover_only" href="" ng-click="turnOnEditMode($index)">Edit</a>
                <a class="hover_only" href="" ng-click="delDefinition(def._id)">Remove</a>
            </div>
            <div class="def-list-description ellipsis">
                <div compile="def.descriptionURL"></div>
            </div>
        </div>

        <div
            class='definition_edit'
            ng-show="definitions[$index].editMode">
            <input
                name="title"
                class="def-edit-title"
                ng-model="def.title"
                type="text"
                />
            <div class="definition_options">
                <a href="" ng-click="turnOffEditMode($index)">Cancel</a>
                <a href="" ng-click="editDefinition($index, def)">Submit</a>
            </div>
            <textarea
                name="description"
                class="def-edit-description"
                rows="8"
                cols="40"
                maxlength="1024"
                required
                ng-model="def.description"
                ></textarea>
        </div>
    </article>
</section>